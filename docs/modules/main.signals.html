<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>signals | @paychex/core</title><meta name="description" content="Documentation for @paychex/core"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script async src="../assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">@paychex/core</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><ul class="tsd-breadcrumb"><li><a href="../modules.html">@paychex/core</a></li><li><a href="main.html">main</a></li><li><a href="main.signals.html">signals</a></li></ul><h1>Namespace signals</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><div class="lead">
<p>Provides utilities for synchronizing blocks of code.</p>
</div><div><pre><code class="language-js"><span class="hl-7">// esm</span><br/><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-3">signals</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-4">&#39;@paychex/core&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-7">// cjs</span><br/><span class="hl-2">const</span><span class="hl-0"> { </span><span class="hl-5">signals</span><span class="hl-0"> } = </span><span class="hl-6">require</span><span class="hl-0">(</span><span class="hl-4">&#39;@paychex/core&#39;</span><span class="hl-0">);</span><br/><br/><span class="hl-7">// iife</span><br/><span class="hl-2">const</span><span class="hl-0"> { </span><span class="hl-5">signals</span><span class="hl-0"> } = </span><span class="hl-3">window</span><span class="hl-0">[</span><span class="hl-4">&#39;@paychex/core&#39;</span><span class="hl-0">];</span><br/><br/><span class="hl-7">// amd</span><br/><span class="hl-6">require</span><span class="hl-0">([</span><span class="hl-4">&#39;@paychex/core&#39;</span><span class="hl-0">], </span><span class="hl-2">function</span><span class="hl-0">({ </span><span class="hl-3">signals</span><span class="hl-0"> }) { ... });</span><br/><span class="hl-6">define</span><span class="hl-0">([</span><span class="hl-4">&#39;@paychex/core&#39;</span><span class="hl-0">], </span><span class="hl-2">function</span><span class="hl-0">({ </span><span class="hl-3">signals</span><span class="hl-0"> }) { ... });</span>
</code></pre>
<p>There are 4 types of signals provided in this module:</p>
<p><strong>Manual Reset Signal</strong></p>
<p>Think of the manual reset signal as a traffic light. While it is red,
all cars are queued in the order they arrive. Once the light is signaled
green, the cars can proceed in the order they arrived. And as long as the
light remains green, any future cars can proceed.</p>
<p>Use cases:</p>
<ul>
<li>wait for a router to bootstrap before enabling navigation</li>
<li>block all load operations until a save operation completes</li>
</ul>
<p><strong>Auto Reset Signal</strong></p>
<p>The auto reset signal can be used to create a <code>critical section</code> -- i.e. a
block of code that can only be executed by 1 caller at a time. Every other
caller will be queued in the order they arrive, and the next caller in the
queue will only be allowed to enter the critical section when the previous
caller leaves the critical section.</p>
<p>Use cases:</p>
<ul>
<li>ensure only 1 dialog is shown to the user at a time</li>
<li>queue router navigations while a navigation is in process</li>
<li>ensure a specific network call completes before being called again</li>
</ul>
<p><strong>Countdown Signal</strong></p>
<p>A countdown signal allows you to queue callers until a certain number of
operations have completed.</p>
<p>Use cases:</p>
<ul>
<li>disable the UI until a group of downloads have finished</li>
<li>wait for a set of child components to load before stopping a timer</li>
</ul>
<p><strong>Semaphore</strong></p>
<p>Think of a semaphore as a bouncer at a club who ensures that only a certain
number of people are allowed in at one time. In other words, semaphores are
used to control access to a limited pool of resources.</p>
<p>Use cases:</p>
<ul>
<li>limit file uploads to a maximum of 5 at a time</li>
<li>limit in-progress data calls on a slow network</li>
</ul>
</div></div></section><section class="tsd-panel-group tsd-index-group"><h2>Index</h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section "><h3>Interfaces</h3><ul class="tsd-index-list"><li class="tsd-kind-interface tsd-parent-kind-namespace"><a href="../interfaces/main.signals.AutoResetSignal.html" class="tsd-kind-icon">Auto<wbr/>Reset<wbr/>Signal</a></li><li class="tsd-kind-interface tsd-parent-kind-namespace"><a href="../interfaces/main.signals.CountdownSignal.html" class="tsd-kind-icon">Countdown<wbr/>Signal</a></li><li class="tsd-kind-interface tsd-parent-kind-namespace"><a href="../interfaces/main.signals.ManualResetSignal.html" class="tsd-kind-icon">Manual<wbr/>Reset<wbr/>Signal</a></li><li class="tsd-kind-interface tsd-parent-kind-namespace"><a href="../interfaces/main.signals.Semaphore.html" class="tsd-kind-icon">Semaphore</a></li><li class="tsd-kind-interface tsd-parent-kind-namespace"><a href="../interfaces/main.signals.Signal.html" class="tsd-kind-icon">Signal</a></li></ul></section><section class="tsd-index-section "><h3>Functions</h3><ul class="tsd-index-list"><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="main.signals.html#autoReset" class="tsd-kind-icon">auto<wbr/>Reset</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="main.signals.html#countdown" class="tsd-kind-icon">countdown</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="main.signals.html#manualReset" class="tsd-kind-icon">manual<wbr/>Reset</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="main.signals.html#semaphore" class="tsd-kind-icon">semaphore</a></li></ul></section></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Functions</h2><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="autoReset" class="tsd-anchor"></a><h3 class="tsd-anchor-link">auto<wbr/>Reset<a href="#autoReset" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">auto<wbr/>Reset<span class="tsd-signature-symbol">(</span>signaled<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../interfaces/main.signals.AutoResetSignal.html" class="tsd-signature-type" data-tsd-kind="Interface">AutoResetSignal</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in signals/index.ts:725</li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Creates a signal that queues callers until signaled. Releases only 1 queued
caller each time it is signaled, then automatically resets into a blocked state.</p>
</div><div><p>The auto reset signal can be used to create a <code>critical section</code> -- i.e. a block
of code that can only be executed by 1 caller at a time. Every other caller will
be queued in the order they arrive, and the next caller in the queue will only
be allowed to enter the critical section when the previous caller leaves the
critical section.</p>
</div><dl class="tsd-comment-tags"><dt>example</dt><dd><pre><code class="language-js"><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-3">fetch</span><span class="hl-0">, </span><span class="hl-3">createRequest</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-4">&#39;../path/to/datalayer&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-2">const</span><span class="hl-0"> </span><span class="hl-5">signal</span><span class="hl-0"> = </span><span class="hl-3">signals</span><span class="hl-0">.</span><span class="hl-6">autoReset</span><span class="hl-0">(</span><span class="hl-2">true</span><span class="hl-0">); </span><span class="hl-7">// start unblocked</span><br/><span class="hl-2">const</span><span class="hl-0"> </span><span class="hl-5">operation</span><span class="hl-0"> = {</span><br/><span class="hl-0">  </span><span class="hl-3">method:</span><span class="hl-0"> </span><span class="hl-4">&#39;POST&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-3">base:</span><span class="hl-0"> </span><span class="hl-4">&#39;my-app&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-3">path:</span><span class="hl-0"> </span><span class="hl-4">&#39;/some/endpoint&#39;</span><br/><span class="hl-0">};</span><br/><br/><span class="hl-7">// ensure each network call completes</span><br/><span class="hl-7">// before the next call is performed:</span><br/><span class="hl-1">export</span><span class="hl-0"> </span><span class="hl-2">async</span><span class="hl-0"> </span><span class="hl-2">function</span><span class="hl-0"> </span><span class="hl-6">networkCall</span><span class="hl-0">() {</span><br/><span class="hl-0">  </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-3">signal</span><span class="hl-0">.</span><span class="hl-6">ready</span><span class="hl-0">(); </span><span class="hl-7">// block other callers</span><br/><span class="hl-0">  </span><span class="hl-1">try</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-2">const</span><span class="hl-0"> </span><span class="hl-5">data</span><span class="hl-0"> = { ... }; </span><span class="hl-7">// payload to POST to the endpoint</span><br/><span class="hl-0">    </span><span class="hl-2">const</span><span class="hl-0"> </span><span class="hl-5">request</span><span class="hl-0"> = </span><span class="hl-6">createRequest</span><span class="hl-0">(</span><span class="hl-3">operation</span><span class="hl-0">, </span><span class="hl-2">null</span><span class="hl-0">, </span><span class="hl-3">data</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-2">const</span><span class="hl-0"> </span><span class="hl-5">response</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-6">fetch</span><span class="hl-0">(</span><span class="hl-3">request</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">return</span><span class="hl-0"> </span><span class="hl-3">response</span><span class="hl-0">.</span><span class="hl-3">data</span><span class="hl-0">;</span><br/><span class="hl-0">  } </span><span class="hl-1">finally</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-3">signal</span><span class="hl-0">.</span><span class="hl-6">set</span><span class="hl-0">(); </span><span class="hl-7">// unblock the next caller</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">}</span>
</code></pre>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>signaled: <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> = false</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="../interfaces/main.signals.AutoResetSignal.html" class="tsd-signature-type" data-tsd-kind="Interface">AutoResetSignal</a></h4><div><p>A signal that releases 1 caller each time it is signaled.</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="countdown" class="tsd-anchor"></a><h3 class="tsd-anchor-link">countdown<a href="#countdown" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">countdown<span class="tsd-signature-symbol">(</span>initialCount<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../interfaces/main.signals.CountdownSignal.html" class="tsd-signature-type" data-tsd-kind="Interface">CountdownSignal</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in signals/index.ts:796</li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Creates a signal that will queue callers until the counter reaches 0. At that
point, all callers will be invoked in the order they were queued.</p>
</div><dl class="tsd-comment-tags"><dt>example</dt><dd><pre><code class="language-js"><span class="hl-1">export</span><span class="hl-0"> </span><span class="hl-2">function</span><span class="hl-0"> </span><span class="hl-6">downloadAll</span><span class="hl-0">(</span><span class="hl-3">files</span><span class="hl-0"> = []) {</span><br/><span class="hl-0">  </span><span class="hl-2">const</span><span class="hl-0"> </span><span class="hl-5">signal</span><span class="hl-0"> = </span><span class="hl-3">signals</span><span class="hl-0">.</span><span class="hl-6">countdown</span><span class="hl-0">(</span><span class="hl-3">files</span><span class="hl-0">.</span><span class="hl-3">length</span><span class="hl-0">);</span><br/><span class="hl-0">  </span><span class="hl-3">files</span><span class="hl-0">.</span><span class="hl-6">forEach</span><span class="hl-0">(</span><span class="hl-3">file</span><span class="hl-0"> </span><span class="hl-2">=&gt;</span><br/><span class="hl-0">    </span><span class="hl-6">download</span><span class="hl-0">(</span><span class="hl-3">file</span><span class="hl-0">).</span><span class="hl-6">finally</span><span class="hl-0">(() </span><span class="hl-2">=&gt;</span><br/><span class="hl-0">      </span><span class="hl-3">signal</span><span class="hl-0">.</span><span class="hl-6">decrement</span><span class="hl-0">()));</span><br/><span class="hl-0">  </span><span class="hl-1">return</span><span class="hl-0"> </span><span class="hl-3">signal</span><span class="hl-0">.</span><span class="hl-6">ready</span><span class="hl-0">();</span><br/><span class="hl-0">}</span>
</code></pre>
</dd><dt>example</dt><dd><pre><code class="language-js"><span class="hl-7">// progress blocking</span><br/><br/><span class="hl-2">const</span><span class="hl-0"> </span><span class="hl-5">counter</span><span class="hl-0"> = </span><span class="hl-3">signals</span><span class="hl-0">.</span><span class="hl-6">countdown</span><span class="hl-0">();</span><br/><br/><span class="hl-1">export</span><span class="hl-0"> </span><span class="hl-2">function</span><span class="hl-0"> </span><span class="hl-6">addBlockingTask</span><span class="hl-0">(</span><span class="hl-3">task</span><span class="hl-0">) {</span><br/><span class="hl-0">  </span><span class="hl-3">counter</span><span class="hl-0">.</span><span class="hl-6">increment</span><span class="hl-0">();</span><br/><span class="hl-0">  </span><span class="hl-1">return</span><span class="hl-0"> </span><span class="hl-10">Promise</span><span class="hl-0">.</span><span class="hl-6">resolve</span><span class="hl-0">()</span><br/><span class="hl-0">    .</span><span class="hl-6">then</span><span class="hl-0">(</span><span class="hl-3">task</span><span class="hl-0">)</span><br/><span class="hl-0">    .</span><span class="hl-6">finally</span><span class="hl-0">(</span><span class="hl-3">counter</span><span class="hl-0">.</span><span class="hl-3">decrement</span><span class="hl-0">);</span><br/><span class="hl-0">}</span><br/><br/><span class="hl-1">export</span><span class="hl-0"> </span><span class="hl-2">function</span><span class="hl-0"> </span><span class="hl-6">tasksCompleted</span><span class="hl-0">() {</span><br/><span class="hl-0">  </span><span class="hl-1">return</span><span class="hl-0"> </span><span class="hl-3">counter</span><span class="hl-0">.</span><span class="hl-6">ready</span><span class="hl-0">();</span><br/><span class="hl-0">}</span>
</code></pre>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>initialCount: <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> = 0</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The initial count of the signal. Must be a non-negative integer.</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <a href="../interfaces/main.signals.CountdownSignal.html" class="tsd-signature-type" data-tsd-kind="Interface">CountdownSignal</a></h4><div><p>Queues callers until the counter reaches 0.</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="manualReset" class="tsd-anchor"></a><h3 class="tsd-anchor-link">manual<wbr/>Reset<a href="#manualReset" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">manual<wbr/>Reset<span class="tsd-signature-symbol">(</span>signaled<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../interfaces/main.signals.ManualResetSignal.html" class="tsd-signature-type" data-tsd-kind="Interface">ManualResetSignal</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in signals/index.ts:655</li></ul></aside><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>signaled: <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> = false</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="../interfaces/main.signals.ManualResetSignal.html" class="tsd-signature-type" data-tsd-kind="Interface">ManualResetSignal</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="semaphore" class="tsd-anchor"></a><h3 class="tsd-anchor-link">semaphore<a href="#semaphore" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">semaphore<span class="tsd-signature-symbol">(</span>maxConcurrency<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../interfaces/main.signals.Semaphore.html" class="tsd-signature-type" data-tsd-kind="Interface">Semaphore</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in signals/index.ts:858</li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Limits access to a pool of resources by restricting how many callers can run at a time.
Any callers above the allowed amount will be queued until a spot is released.</p>
</div><dl class="tsd-comment-tags"><dt>example</dt><dd><pre><code class="language-js"><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-3">fetch</span><span class="hl-0">, </span><span class="hl-3">createRequest</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-4">&#39;~/path/to/datalayer&#39;</span><span class="hl-0">;</span><br/><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-3">tracker</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-4">&#39;~/path/to/tracker&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-2">const</span><span class="hl-0"> </span><span class="hl-5">uploadSpots</span><span class="hl-0"> = </span><span class="hl-3">signals</span><span class="hl-0">.</span><span class="hl-6">semaphore</span><span class="hl-0">(</span><span class="hl-8">5</span><span class="hl-0">);</span><br/><br/><span class="hl-2">const</span><span class="hl-0"> </span><span class="hl-5">operation</span><span class="hl-0"> = {</span><br/><span class="hl-0">  </span><span class="hl-3">base:</span><span class="hl-0"> </span><span class="hl-4">&#39;files&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-3">method:</span><span class="hl-0"> </span><span class="hl-4">&#39;POST&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-3">path:</span><span class="hl-0"> </span><span class="hl-4">&#39;/save/:id&#39;</span><br/><span class="hl-0">};</span><br/><br/><span class="hl-1">export</span><span class="hl-0"> </span><span class="hl-2">async</span><span class="hl-0"> </span><span class="hl-2">function</span><span class="hl-0"> </span><span class="hl-6">uploadFile</span><span class="hl-0">(</span><span class="hl-3">blob</span><span class="hl-0">) {</span><br/><span class="hl-0">  </span><span class="hl-2">const</span><span class="hl-0"> </span><span class="hl-5">data</span><span class="hl-0"> = </span><span class="hl-2">new</span><span class="hl-0"> </span><span class="hl-6">FormData</span><span class="hl-0">();</span><br/><span class="hl-0">  </span><span class="hl-2">const</span><span class="hl-0"> </span><span class="hl-5">params</span><span class="hl-0"> = { </span><span class="hl-3">id:</span><span class="hl-0"> </span><span class="hl-3">tracker</span><span class="hl-0">.</span><span class="hl-6">uuid</span><span class="hl-0">() };</span><br/><span class="hl-0">  </span><span class="hl-3">data</span><span class="hl-0">.</span><span class="hl-6">append</span><span class="hl-0">(</span><span class="hl-4">&#39;file&#39;</span><span class="hl-0">, </span><span class="hl-3">blob</span><span class="hl-0">, </span><span class="hl-3">params</span><span class="hl-0">.</span><span class="hl-3">id</span><span class="hl-0">);</span><br/><span class="hl-0">  </span><span class="hl-1">try</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-3">uploadSpots</span><span class="hl-0">.</span><span class="hl-6">ready</span><span class="hl-0">();</span><br/><span class="hl-0">    </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-6">fetch</span><span class="hl-0">(</span><span class="hl-6">createRequest</span><span class="hl-0">(</span><span class="hl-3">operation</span><span class="hl-0">, </span><span class="hl-3">params</span><span class="hl-0">, </span><span class="hl-3">data</span><span class="hl-0">));</span><br/><span class="hl-0">    </span><span class="hl-1">return</span><span class="hl-0"> </span><span class="hl-3">params</span><span class="hl-0">.</span><span class="hl-3">id</span><span class="hl-0">;</span><br/><span class="hl-0">  } </span><span class="hl-1">finally</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-3">uploadSpots</span><span class="hl-0">.</span><span class="hl-6">release</span><span class="hl-0">(); </span><span class="hl-7">// always release</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">}</span>
</code></pre>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>maxConcurrency: <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> = 5</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The maximum number of parallel callers to allow.</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <a href="../interfaces/main.signals.Semaphore.html" class="tsd-signature-type" data-tsd-kind="Interface">Semaphore</a></h4><div><p>Limits access to a pool of resources by restricting how many callers can run at a time.</p>
</div></li></ul></section></section></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class=""><a href="../modules.html">Modules</a></li><li class="current tsd-kind-module"><a href="main.html">main</a><ul><li class=" tsd-kind-namespace tsd-parent-kind-module"><a href="main.data.html">data</a></li><li class=" tsd-kind-namespace tsd-parent-kind-module"><a href="main.errors.html">errors</a></li><li class=" tsd-kind-namespace tsd-parent-kind-module"><a href="main.events.html">events</a></li><li class=" tsd-kind-namespace tsd-parent-kind-module"><a href="main.formatters.html">formatters</a></li><li class=" tsd-kind-namespace tsd-parent-kind-module"><a href="main.functions.html">functions</a></li><li class=" tsd-kind-namespace tsd-parent-kind-module"><a href="main.models.html">models</a></li><li class=" tsd-kind-namespace tsd-parent-kind-module"><a href="main.process.html">process</a></li><li class="current tsd-kind-namespace tsd-parent-kind-module"><a href="main.signals.html">signals</a></li><li class=" tsd-kind-namespace tsd-parent-kind-module"><a href="main.stores.html">stores</a></li><li class=" tsd-kind-namespace tsd-parent-kind-module"><a href="main.trackers.html">trackers</a></li><li class=" tsd-kind-namespace tsd-parent-kind-module"><a href="main.validators.html">validators</a></li></ul></li><li class=" tsd-kind-module"><a href="test.html">test</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-interface tsd-parent-kind-namespace"><a href="../interfaces/main.signals.AutoResetSignal.html" class="tsd-kind-icon">Auto<wbr/>Reset<wbr/>Signal</a></li><li class="tsd-kind-interface tsd-parent-kind-namespace"><a href="../interfaces/main.signals.CountdownSignal.html" class="tsd-kind-icon">Countdown<wbr/>Signal</a></li><li class="tsd-kind-interface tsd-parent-kind-namespace"><a href="../interfaces/main.signals.ManualResetSignal.html" class="tsd-kind-icon">Manual<wbr/>Reset<wbr/>Signal</a></li><li class="tsd-kind-interface tsd-parent-kind-namespace"><a href="../interfaces/main.signals.Semaphore.html" class="tsd-kind-icon">Semaphore</a></li><li class="tsd-kind-interface tsd-parent-kind-namespace"><a href="../interfaces/main.signals.Signal.html" class="tsd-kind-icon">Signal</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="main.signals.html#autoReset" class="tsd-kind-icon">auto<wbr/>Reset</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="main.signals.html#countdown" class="tsd-kind-icon">countdown</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="main.signals.html#manualReset" class="tsd-kind-icon">manual<wbr/>Reset</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="main.signals.html#semaphore" class="tsd-kind-icon">semaphore</a></li></ul></nav></div></div></div><footer class=""><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-namespace"><span class="tsd-kind-icon">Namespace</span></li><li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="overlay"></div><script src="../assets/main.js"></script></body></html>